(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{351:function(t,e,n){var content=n(386);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(143).default)("3e359e88",content,!0,{sourceMap:!1})},385:function(t,e,n){"use strict";n(351)},386:function(t,e,n){var r=n(142)((function(i){return i[1]}));r.push([t.i,".msg{text-align:left;width:100%}",""]),r.locals={},t.exports=r},416:function(t,e,n){"use strict";n.r(e);var r=n(8),o=(n(48),n(91),n(20),n(37),n(13),n(90),n(315)),c=n(362),l=n(338),d={data:function(){return{company:"",amount:0,user:"",pin:"",newPin:"",confirmPin:"",setPin:!1,confirmWithdrawal:!1,msg:"",colour:!1,showMsg:!1}},methods:{showMessage:function(t){var e=this;this.msg=t,this.showMsg=!0,setTimeout((function(){e.msg="",e.showMsg=!1}),6e3)},formatMoney:function(t){return""==t||null==t||null==t?"0.00":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},beginWithdrawal:function(){this.amount<5?this.showMessage("You can't withdraw below 5 ".concat(this.user.accounts[0].currency)):""!=this.receiverBank&&""!=this.receiverAddress&&""!=this.receiverName?this.confirmWithdrawal=!0:this.showMessage("Please fill in the necessary fields above")},cancelWithdrawal:function(){this.confirmWithdrawal=!1},checkPin:function(){if(this.user.pin){if(this.pin!=this.user.pin)return void this.showMessage("Incorrect pin, please try again");this.pin==this.user.pin&&(this.setPin=!1,this.processWithdrawal())}else{if(this.newPin!=this.confirmPin)return void this.showMessage("Sorry your pin do not match!");this.setPin=!0,this.processWithdrawal()}},processWithdrawal:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var form;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return form={amount:t.amount,receiverAccountType:t.receiverAccountType,receiverAddress:t.company.accountNumber,receiverBank:t.company.companyBank,receiverName:t.company.accountName,newPin:t.newPin,confrimPin:t.confirmPin,pin:t.pin,setPin:t.setPin,account:JSON.stringify(t.user.accounts[0]),transactionType:"Deposit",username:t.user.username,time:(new Date).getTime()},e.prev=1,e.next=4,t.$axios.post("/transactions",form);case 4:t.colour=!0,t.showMessage("Your transaction was successful. Reciepient will be credited before 24 hours."),location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t.showMessage(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},getCompany:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/company");case 3:n=e.sent,t.company=n.data.data[0],e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getUser:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/users/get-user");case 3:n=e.sent,t.user=n.data.user,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){this.getCompany()},components:{DashboardFooter:o.default,TotalBalance:l.default,DashboardTransactions:c.a}},v=(n(385),n(56)),component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboard-wrapper withdraw"},[e("dashboard-navigation"),t._v(" "),e("div",{staticClass:"dashboard-content"},[e("dashboard-header"),t._v(" "),e("div",{staticClass:"content-body"},[t.confirmWithdrawal?e("div",{staticClass:"dashboard-card-wrap"},[e("div",{staticClass:"card-types-wrapper"},[e("div",{staticClass:"card-title"},[t._v("Confirm & Deposit to..")]),t._v(" "),e("div",{staticClass:"type-card select account"},[e("div",{staticClass:"card-type-flex"},[e("h4",{staticClass:"type-card-title"},[t._v("Bank")]),t._v(" "),e("div",[t._v(t._s(t.company.companyBank))])]),t._v(" "),e("div",{staticClass:"card-type-flex"},[e("h4",{staticClass:"type-card-title"},[t._v("Name")]),t._v(" "),e("div",[t._v(t._s(t.company.accountName))])]),t._v(" "),e("div",{staticClass:"card-type-flex"},[e("h4",{staticClass:"type-card-title"},[t._v("Address")]),t._v(" "),e("div",[t._v(t._s(t.company.accountNumber))])]),t._v(" "),e("div",{staticClass:"card-type-flex"},[e("h4",{staticClass:"type-card-title"},[t._v("Routing Number")]),t._v(" "),e("div",[t._v(t._s(t.company.routingNumber))])])])]),t._v(" "),t.user.pin?t._e():e("div",{staticClass:"card-title",staticStyle:{"margin-bottom":"10px"}},[t._v("\n          You don't have Transaction Pin, create below to proceed\n        ")]),t._v(" "),t.user.pin?t._e():e("div",{staticClass:"each-form-field"},[e("label",{staticClass:"label",attrs:{for:"name-7"}},[t._v("Enter 6 Digits Transaction Pin")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newPin,expression:"newPin"}],staticClass:"profile-input w-input",attrs:{type:"password",maxlength:"6",placeholder:"Enter Pin"},domProps:{value:t.newPin},on:{input:function(e){e.target.composing||(t.newPin=e.target.value)}}})]),t._v(" "),t.user.pin?e("div",{staticClass:"each-form-field"},[e("label",{staticClass:"label",attrs:{for:"name-7"}},[t._v("Enter Transaction Pin")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pin,expression:"pin"}],staticClass:"profile-input w-input",attrs:{type:"password",placeholder:"Enter Pin"},domProps:{value:t.pin},on:{input:function(e){e.target.composing||(t.pin=e.target.value)}}})]):e("div",{staticClass:"each-form-field"},[e("label",{staticClass:"label",attrs:{for:"name-7"}},[t._v("Confirm Pin")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPin,expression:"confirmPin"}],staticClass:"profile-input w-input",attrs:{type:"password",maxlength:"6",placeholder:"Confirm Pin"},domProps:{value:t.confirmPin},on:{input:function(e){e.target.composing||(t.confirmPin=e.target.value)}}})]),t._v(" "),t.showMsg?e("div",{staticClass:"msg",class:{error:!t.colour}},[t._v("\n          "+t._s(t.msg)+"\n        ")]):t._e(),t._v(" "),e("div",{staticClass:"button-holder"},[e("a",{staticClass:"btn-custom w-button",attrs:{href:"#"},on:{click:t.checkPin}},[t._v("Save")]),e("a",{staticClass:"btn-custom w-button",attrs:{href:"#"},on:{click:t.cancelWithdrawal}},[t._v("Back")])])]):e("div",{staticClass:"dashboard-card-wrap"},[e("div",{staticClass:"card-types"},[e("div",{staticClass:"card-types-wrapper"},[e("div",{staticClass:"card-title"},[t._v("\n              Deposit to the Account below to Fund your account\n            ")]),t._v(" "),t.user.accounts?e("div",{staticClass:"type-card select"},[e("div",{staticClass:"card-type-flex"},[e("h4",{staticClass:"type-card-title"},[t._v("Bank")]),t._v(" "),e("div",[t._v(t._s(t.company.companyBank))])]),t._v(" "),e("div",{staticClass:"card-type-flex"},[e("h4",{staticClass:"type-card-title"},[t._v("Name")]),t._v(" "),e("div",[t._v("\n                  "+t._s(t.company.accountName)+"\n                ")])]),t._v(" "),e("div",{staticClass:"card-type-flex"},[e("h4",{staticClass:"type-card-title"},[t._v("Address")]),t._v(" "),e("div",[t._v(t._s(t.company.accountNumber))])]),t._v(" "),e("div",{staticClass:"card-type-flex"},[e("h4",{staticClass:"type-card-title"},[t._v("Routing Number")]),t._v(" "),e("div",[t._v(t._s(t.company.routingNumber))])])]):t._e()])]),t._v(" "),e("div",{staticClass:"card-title second"},[t._v("Enter Amount to Deposit")]),t._v(" "),e("div",{staticClass:"personal-form payment-input w-form"},[e("div",{staticClass:"form-flex"},[e("div",{staticClass:"each-form-field"},[e("label",{staticClass:"label",attrs:{for:"name-7"}},[t._v("Amount ($)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"profile-input w-input",attrs:{type:"number",placeholder:"Enter Amount"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}})]),t._v(" "),t.showMsg?e("div",{staticClass:"msg",class:{error:!t.colour}},[t._v("\n              "+t._s(t.msg)+"\n            ")]):t._e(),t._v(" "),e("div",{staticClass:"button-holder"},[e("a",{staticClass:"btn-custom w-button",attrs:{href:"#"},on:{click:t.beginWithdrawal}},[t._v("Proceed")]),e("a",{staticClass:"btn-custom w-button",attrs:{href:"#"}},[t._v("Cancel")])])])])]),t._v(" "),e("total-balance"),t._v(" "),e("dashboard-transactions"),t._v(" "),e("dashboard-activities")],1),t._v(" "),e("dashboard-footer")],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{DashboardNavigation:n(316).default,DashboardHeader:n(325).default,TotalBalance:n(339).default,DashboardTransactions:n(340).default,DashboardActivities:n(326).default,DashboardFooter:n(315).default})}}]);