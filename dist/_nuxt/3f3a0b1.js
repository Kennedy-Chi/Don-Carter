(window.webpackJsonp=window.webpackJsonp||[]).push([[56,24,28],{322:function(e,t,r){"use strict";var n=r(2),c=r(3),o=r(59),l=r(215),v=r(213),d=r(4),f=RangeError,m=String,h=Math.floor,_=c(v),C=c("".slice),w=c(1..toFixed),y=function(e,t,r){return 0===t?r:t%2==1?y(e,t-1,r*e):y(e*e,t/2,r)},x=function(data,e,t){for(var r=-1,n=t;++r<6;)n+=e*data[r],data[r]=n%1e7,n=h(n/1e7)},A=function(data,e){for(var t=6,r=0;--t>=0;)r+=data[t],data[t]=h(r/e),r=r%e*1e7},N=function(data){for(var e=6,s="";--e>=0;)if(""!==s||0===e||0!==data[e]){var t=m(data[e]);s=""===s?t:s+_("0",7-t.length)+t}return s};n({target:"Number",proto:!0,forced:d((function(){return"0.000"!==w(8e-5,3)||"1"!==w(.9,0)||"1.25"!==w(1.255,2)||"1000000000000000128"!==w(0xde0b6b3a7640080,0)}))||!d((function(){w({})}))},{toFixed:function(e){var t,r,n,c,v=l(this),d=o(e),data=[0,0,0,0,0,0],h="",w="0";if(d<0||d>20)throw f("Incorrect fraction digits");if(v!=v)return"NaN";if(v<=-1e21||v>=1e21)return m(v);if(v<0&&(h="-",v=-v),v>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(v*y(2,69,1))-69)<0?v*y(2,-t,1):v/y(2,t,1),r*=4503599627370496,(t=52-t)>0){for(x(data,0,r),n=d;n>=7;)x(data,1e7,0),n-=7;for(x(data,y(10,n,1),0),n=t-1;n>=23;)A(data,1<<23),n-=23;A(data,1<<n),x(data,1,1),A(data,2),w=N(data)}else x(data,0,r),x(data,1<<-t,0),w=N(data)+_("0",d);return w=d>0?h+((c=w.length)<=d?"0."+_("0",d-c)+w:C(w,0,c-d)+"."+C(w,c-d)):h+w}})},348:function(e,t,r){var content=r(381);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(143).default)("45618d4d",content,!0,{sourceMap:!1})},356:function(e,t,r){"use strict";r.r(t);var n=r(8),c=(r(48),r(20),r(37),r(13),r(90),r(26),r(38),r(322),r(212),{data:function(){return{savings:0,fixed:0,current:0,accounts:"",balance:""}},methods:{formatMoney:function(e){return 0==e?0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},formatDate:function(){var e=(new Date).getTime();return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",suffix:function(e){return 1===e||21===e||31===e?"st":2===e||22===e?"nd":3===e||23===e?"rd":"th"}}).format(e)},checkAccounts:function(e){var t;return this.accounts.some((function(t){return t.name===e}))?(this.accounts.forEach((function(r){r.name==e&&(t=Number(r.balance).toFixed(2))})),t):0},getUser:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("/users/get-user");case 3:return r=t.sent,e.user=r.data.user,t.next=7,r.data.user.accounts[0].balance;case 7:e.accounts=t.sent,console.log(r.data.user),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},mounted:function(){this.$store.commit("SET_URL",this.$config.FILE_URL),this.getUser()}}),o=r(56),component=Object(o.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"account-wrapper"},[t("h1",{staticClass:"balance-title"},[e._v("Your Savings Balance")]),e._v(" "),t("h1",{staticClass:"balance"},[e._v("$"+e._s(e.balance))]),e._v(" "),t("div",{staticClass:"date"},[e._v(e._s(e.formatDate()))]),e._v(" "),t("div",{staticClass:"accounts-holder"},[t("div",{staticClass:"each-account"},[t("div",{staticClass:"account-name"},[e._v("Savings")]),e._v(" "),t("h1",{staticClass:"each-account-balance"},[e._v("$"+e._s(e.accounts.balance))])]),e._v(" "),e._m(0),e._v(" "),e._m(1)])])}),[function(){var e=this,t=e._self._c;return t("div",{staticClass:"each-account"},[t("div",{staticClass:"account-name check"},[e._v("Fixed")]),e._v(" "),t("h1",{staticClass:"each-account-balance"},[e._v("$0.00")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"each-account"},[t("div",{staticClass:"account-name current"},[e._v("current")]),e._v(" "),t("h1",{staticClass:"each-account-balance"},[e._v("$0.00")])])}],!1,null,null,null);t.default=component.exports},357:function(e,t,r){"use strict";r.r(t);r(322),r(212),r(20),r(37),r(13),r(90),r(26),r(38);var n={data:function(){return{savings:0,fixed:0,current:0}},methods:{formatMoney:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},formatDate:function(){var e=(new Date).getTime();return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",suffix:function(e){return 1===e||21===e||31===e?"st":2===e||22===e?"nd":3===e||23===e?"rd":"th"}}).format(e)},checkAccounts:function(e){var t;return this.user.accounts.some((function(t){return t.name===e}))?(this.user.accounts.forEach((function(r){r.name==e&&(t=Number(r.balance).toFixed(2))})),t):0}},computed:{user:function(){return this.$store.state.auth.user}}},c=r(56),component=Object(c.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"account-wrapper"},[t("h1",{staticClass:"balance-title"},[e._v("Your Savings Balance")]),e._v(" "),e.user.accounts[0]?t("h1",{staticClass:"balance"},[e._v("\n    $"+e._s(e.formatMoney(Number(e.user.accounts[0].balance).toFixed(2)))+"\n  ")]):e._e(),e._v(" "),t("div",{staticClass:"date"},[e._v(e._s(e.formatDate()))]),e._v(" "),t("div",{staticClass:"accounts-holder"},[t("div",{staticClass:"each-account"},[t("div",{staticClass:"account-name"},[e._v("Savings")]),e._v(" "),t("h1",{staticClass:"each-account-balance"},[e._v("\n        $"+e._s(Number(e.checkAccounts("Savings")).toFixed(2))+"\n      ")])]),e._v(" "),t("div",{staticClass:"each-account"},[t("div",{staticClass:"account-name check"},[e._v("Fixed")]),e._v(" "),t("h1",{staticClass:"each-account-balance"},[e._v("\n        $"+e._s(Number(e.checkAccounts("Fixed")).toFixed(2))+"\n      ")])]),e._v(" "),t("div",{staticClass:"each-account"},[t("div",{staticClass:"account-name current"},[e._v("current")]),e._v(" "),t("h1",{staticClass:"each-account-balance"},[e._v("\n        $"+e._s(Number(e.checkAccounts("Current")).toFixed(2))+"\n      ")])])])])}),[],!1,null,null,null);t.default=component.exports},380:function(e,t,r){"use strict";r(348)},381:function(e,t,r){var n=r(142)((function(i){return i[1]}));n.push([e.i,".msg{text-align:left;width:100%}.each-form-field.block input{cursor:not-allowed}",""]),n.locals={},e.exports=n},416:function(e,t,r){"use strict";r.r(t);r(57);var n=r(8),c=(r(48),r(91),r(20),r(37),r(13),r(90),r(26),r(363)),o=r(364),l=r(356),v={data:function(){return{receiverBank:"",receiverAccountType:"",receiverAddress:"",receiverName:"",amount:0,receiver:"",user:"",pin:"",newPin:"",confirmPin:"",setPin:!1,confirmWithdrawal:!1,msg:"",colour:!1,showMsg:!1}},methods:{showMessage:function(e){var t=this;this.msg=e,this.showMsg=!0,setTimeout((function(){t.msg="",t.showMsg=!1}),6e3)},formatMoney:function(e){return""==e||null==e||null==e?"0.00":e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},beginWithdrawal:function(){this.amount<5?this.showMessage("You can't withdraw below 5 ".concat(this.account.currency)):""!=this.receiverAddress&&""!=this.receiverName?this.amount>this.account.balance?this.showMessage("Sorry you have insufficient fund for this transaction"):this.user.username==this.receiver.username?this.showMessage("You can not transfer to yoursel"):this.confirmWithdrawal=!0:this.showMessage("Please fill in the necessary fields above")},cancelWithdrawal:function(){this.confirmWithdrawal=!1},checkPin:function(){if(this.user.pin){if(this.pin!=this.user.pin)return void this.showMessage("Incorrect pin, please try again");this.pin==this.user.pin&&(this.setPin=!1,this.processWithdrawal())}else{if(this.newPin!=this.confirmPin)return void this.showMessage("Sorry your pin do not match!");this.setPin=!0,this.processWithdrawal()}},checkUser:function(){10==this.receiverAddress.length&&this.getUserAcount()},getUserAcount:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("/users/search-user/".concat(e.receiverAddress));case 3:if(r=t.sent,e.receiver=r.data.user[0],e.receiverAccountType=e.receiver.accounts[0].name,e.user.username!=e.receiver.username){t.next=9;break}return e.showMessage("You can not transfer to yourself"),t.abrupt("return");case 9:e.receiverName=e.receiver.firstName+" "+e.receiver.lastName,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0.response.data.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},processWithdrawal:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var form;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return form={amount:e.amount,receiverAccountType:e.receiverAccountType,receiverAddress:e.receiverAddress,receiverBank:"Zivik Bank",receiverName:e.receiverName,newPin:e.newPin,confrimPin:e.confirmPin,pin:e.pin,setPin:e.setPin,account:account,transactionType:"Transfer",user:e.user.username,time:(new Date).getTime()},t.prev=1,t.next=4,e.$axios.post("/transactions",form);case 4:e.colour=!0,e.showMessage("Your transaction was successful. Reciepient will be credited before 24 hours."),e.$router.push("/dashboard/withdrawal"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.showMessage(t.t0.response.data.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getUser:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("/users/get-user");case 3:r=t.sent,e.user=r.data.user,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},mounted:function(){this.getUser()},components:{DashboardFooter:c.a,TotalBalance:l.default,DashboardTransactions:o.a}},d=(r(380),r(56)),component=Object(d.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dashboard-wrapper withdraw"},[t("dashboard-navigation"),e._v(" "),t("div",{staticClass:"dashboard-content"},[t("dashboard-header"),e._v(" "),t("div",{staticClass:"content-body"},[e.confirmWithdrawal?t("div",{staticClass:"dashboard-card-wrap"},[t("div",{staticClass:"card-types-wrapper"},[t("div",{staticClass:"card-title"},[e._v("Confirm & Send to..")]),e._v(" "),t("div",{staticClass:"type-card select account"},[t("div",{staticClass:"card-type-flex"},[t("h4",{staticClass:"type-card-title"},[e._v("Type")]),e._v(" "),e.receiverAccountType?t("div",[e._v(e._s(e.receiverAccountType))]):t("div",[e._v("Not Available")])]),e._v(" "),t("div",{staticClass:"card-type-flex"},[t("h4",{staticClass:"type-card-title"},[e._v("Name")]),e._v(" "),t("div",[e._v(e._s(e.receiverName))])]),e._v(" "),t("div",{staticClass:"card-type-flex"},[t("h4",{staticClass:"type-card-title"},[e._v("Address")]),e._v(" "),t("div",[e._v(e._s(e.receiverAddress))])]),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"card-type-flex"},[t("h4",{staticClass:"type-card-title"},[e._v("Amount")]),e._v(" "),t("div",[e._v(e._s(e.amount))])])])]),e._v(" "),e.user.pin?e._e():t("div",{staticClass:"card-title",staticStyle:{"margin-bottom":"10px"}},[e._v("\n          You don't have Transaction Pin, create below to proceed\n        ")]),e._v(" "),e.user.pin?e._e():t("div",{staticClass:"each-form-field"},[t("label",{staticClass:"label",attrs:{for:"name-7"}},[e._v("Enter 6 Digits Transaction Pin")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPin,expression:"newPin"}],staticClass:"profile-input w-input",attrs:{type:"password",maxlength:"6",placeholder:"Enter Pin"},domProps:{value:e.newPin},on:{input:function(t){t.target.composing||(e.newPin=t.target.value)}}})]),e._v(" "),e.user.pin?t("div",{staticClass:"each-form-field"},[t("label",{staticClass:"label",attrs:{for:"name-7"}},[e._v("Enter Transaction Pin")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.pin,expression:"pin"}],staticClass:"profile-input w-input",attrs:{type:"password",maxlength:"6",placeholder:"Enter Pin"},domProps:{value:e.pin},on:{input:function(t){t.target.composing||(e.pin=t.target.value)}}})]):t("div",{staticClass:"each-form-field"},[t("label",{staticClass:"label",attrs:{for:"name-7"}},[e._v("Confirm Pin")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPin,expression:"confirmPin"}],staticClass:"profile-input w-input",attrs:{type:"password",maxlength:"6",placeholder:"Confirm Pin"},domProps:{value:e.confirmPin},on:{input:function(t){t.target.composing||(e.confirmPin=t.target.value)}}})]),e._v(" "),e.showMsg?t("div",{staticClass:"msg",class:{error:!e.colour}},[e._v("\n          "+e._s(e.msg)+"\n        ")]):e._e(),e._v(" "),t("div",{staticClass:"button-holder"},[t("span",{staticClass:"btn-custom w-button",on:{click:e.checkPin}},[e._v("Save")]),t("a",{staticClass:"btn-custom w-button",attrs:{href:"#"},on:{click:e.cancelWithdrawal}},[e._v("Back")])])]):t("div",{staticClass:"dashboard-card-wrap"},[t("div",{staticClass:"card-types"},[t("div",{staticClass:"card-types-wrapper"},[t("div",{staticClass:"card-title"},[e._v("From Your Active Account")]),e._v(" "),e.user.accounts?t("div",{staticClass:"type-card select"},[t("div",{staticClass:"card-type-flex"},[t("h4",{staticClass:"type-card-title"},[e._v("Type")]),e._v(" "),t("div",[e._v(e._s(e.account.accountType))])]),e._v(" "),t("div",{staticClass:"card-type-flex"},[t("h4",{staticClass:"type-card-title"},[e._v("Name")]),e._v(" "),t("div",[e._v("\n                  "+e._s("".concat(e.user.firstName," ").concat(e.user.middleName," ").concat(e.user.lastName," "))+"\n                ")])]),e._v(" "),t("div",{staticClass:"card-type-flex"},[t("h4",{staticClass:"type-card-title"},[e._v("Address")]),e._v(" "),t("div",[e._v(e._s(e.account.accountNumber))])]),e._v(" "),t("div",{staticClass:"card-type-flex"},[t("h4",{staticClass:"type-card-title"},[e._v("Balance")]),e._v(" "),t("div",[e._v(e._s(e.formatMoney(e.account.balance)))])])]):e._e()])]),e._v(" "),t("div",{staticClass:"card-title second"},[e._v("\n          Enter Account Number To Transfer To (Internal Transfer)\n        ")]),e._v(" "),t("div",{staticClass:"personal-form payment-input w-form"},[t("div",{staticClass:"form-flex"},[t("div",{staticClass:"each-form-field"},[t("label",{staticClass:"label",attrs:{for:"name-7"}},[e._v("Address")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.receiverAddress,expression:"receiverAddress"}],staticClass:"profile-input w-input",attrs:{type:"number",placeholder:"Enter Account Address"},domProps:{value:e.receiverAddress},on:{keyup:e.checkUser,input:function(t){t.target.composing||(e.receiverAddress=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"each-form-field"},[t("label",{staticClass:"label",attrs:{for:"name-7"}},[e._v("Account Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.receiverName,expression:"receiverName"}],staticClass:"profile-input w-input",attrs:{type:"text",placeholder:"Enter Account Name"},domProps:{value:e.receiverName},on:{input:function(t){t.target.composing||(e.receiverName=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"each-form-field"},[t("label",{staticClass:"label",attrs:{for:"name-7"}},[e._v("Amount ($)")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"profile-input w-input",attrs:{type:"number",placeholder:"Enter Amount"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}})]),e._v(" "),e.showMsg?t("div",{staticClass:"msg",class:{error:!e.colour}},[e._v("\n              "+e._s(e.msg)+"\n            ")]):e._e(),e._v(" "),t("div",{staticClass:"button-holder"},[t("a",{staticClass:"btn-custom w-button",attrs:{href:"#"},on:{click:e.beginWithdrawal}},[e._v("Proceed")]),t("a",{staticClass:"btn-custom w-button",attrs:{href:"#"}},[e._v("Cancel")])])])])]),e._v(" "),t("total-balance"),e._v(" "),t("dashboard-transactions"),e._v(" "),t("dashboard-activities")],1),e._v(" "),t("dashboard-footer")],1)],1)}),[function(){var e=this,t=e._self._c;return t("div",{staticClass:"card-type-flex"},[t("h4",{staticClass:"type-card-title"},[e._v("Bank")]),e._v(" "),t("div",[e._v("Zivik Bank")])])}],!1,null,null,null);t.default=component.exports;installComponents(component,{DashboardNavigation:r(320).default,DashboardHeader:r(315).default,TotalBalance:r(357).default,DashboardTransactions:r(323).default,DashboardActivities:r(327).default,DashboardFooter:r(321).default})}}]);